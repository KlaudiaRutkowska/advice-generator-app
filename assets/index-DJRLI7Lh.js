(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const i=document.querySelector("button"),a=document.querySelector("form");let d=[];document.addEventListener("DOMContentLoaded",()=>{let t=l(1,224);u(t)});a.addEventListener("submit",t=>{t.preventDefault(),new FormData(t.target);let e=l(1,224);u(e)});const l=(t,e)=>{t=Math.ceil(t),e=Math.floor(e);let n=Math.floor(Math.random()*(e-t)+t);for(;d.includes(n);)n=Math.floor(Math.random()*(e-t)+t);return d.push(n),n},u=t=>{i.classList.add("loading"),fetch(`https://api.adviceslip.com/advice/${t}`).then(e=>e.json()).then(e=>{f(e)}).catch(e=>{console.error("Wystąpił błąd",e.message)}).finally(()=>{i.classList.remove("loading")})},f=t=>{const e=document.querySelector("h1 > span"),n=document.querySelector("p");e.innerHTML=t.slip.id,n.innerHTML=t.slip.advice};
